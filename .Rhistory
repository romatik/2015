rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
figure_height("N.4.1", slice)
library(plyr)
library(extrafont)
#http://blog.revolutionanalytics.com/2012/09/how-to-use-your-favorite-fonts-in-r-charts.html
loadfonts()
Sys.setenv(R_GSCMD = "C:/Program Files/gs/gs9.16/bin/gswin64c.exe")
source("functions.R")
text_data <- read.csv("./Reports/text_data.csv", encoding = "UTF-8")
today_date <- as.character(format(Sys.Date(), "%d %b %Y"))
#http://reed.edu/data-at-reed/software/R/markdown_multiple_reports.html
for (i in 41:41){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 41:41){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
library(plyr)
library(extrafont)
#http://blog.revolutionanalytics.com/2012/09/how-to-use-your-favorite-fonts-in-r-charts.html
loadfonts()
Sys.setenv(R_GSCMD = "C:/Program Files/gs/gs9.16/bin/gswin64c.exe")
source("functions.R")
text_data <- read.csv("./Reports/text_data.csv", encoding = "UTF-8")
today_date <- as.character(format(Sys.Date(), "%d %b %Y"))
#http://reed.edu/data-at-reed/software/R/markdown_multiple_reports.html
for (i in 41:41){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 41:41){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 41:41){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 41:41){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
library(plyr)
library(extrafont)
#http://blog.revolutionanalytics.com/2012/09/how-to-use-your-favorite-fonts-in-r-charts.html
loadfonts()
Sys.setenv(R_GSCMD = "C:/Program Files/gs/gs9.16/bin/gswin64c.exe")
source("functions.R")
text_data <- read.csv("./Reports/text_data.csv", encoding = "UTF-8")
today_date <- as.character(format(Sys.Date(), "%d %b %Y"))
#http://reed.edu/data-at-reed/software/R/markdown_multiple_reports.html
for (i in 41:41){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
source("functions.R")
dataset <- read.csv("../Media/2015/Master_tables/bigtable.csv", na.strings = c("", " ", "No answer", "N/A", "NA", "Other (please specify)"), header = TRUE)
dataset$X <- NULL
dataset$B.2.2.a.If.you.feel.comfortable.describe.any.inappropriate.conduct.or.sexual.harassment.issues.you.have.witnessed.or.have.been.the.subject.of.and.the.support.you.have.received.The.answers.to.this.question.will.not.be.shared.with.Erasmus.Mundus.course._Open.Ended.Response <- NULL
### ordered levels that were used in the survey
likert_levels <- c("Very unsatisfied", "Somewhat unsatisfied", "Somewhat satisfied", "Very satisfied")
agree_levels <- c("Disagree", "Somewhat disagree", "Somewhat agree", "Agree")
### questions that need to be printed out
questions <- c('B.1.1', 'B.1.3', 'B.2.1', 'B.2.2', 'C.1', #overall program satisfaction
"L.4", "L.5", "L.6", 'L.3.a', 'L.2.a', #internship/field experience
"N.1.1", "N.1.3", "N.2.1", "N.2.2", "N.3.1", "N.4.1", #satisfaction in first university
"O.1.1", "O.1.3", "O.2.1", "O.2.2", "O.3.1", "O.4.1", #satisfaction in second university
"P.1.1", "P.1.3", "P.2.1", "P.2.2", "P.3.1", "P.4.1", #satisfaction in third university
"Q.1.1", "Q.1.3", "Q.2.1", "Q.2.2", "Q.3.1", "Q.4.1") #satisfaction in fourth university
### finding out courses with 10 or more respondents in the dataset
tenormore <- dataset %>%
select(A.2.name.of.Erasmus.Mundus.master.course.) %>%
group_by(A.2.name.of.Erasmus.Mundus.master.course.) %>%
summarise(respondents = n()) %>%
filter(respondents >= 10)
colnames(tenormore) <- c("Course", "Respondents")
z <- prepare_university("N.3.2", dataset)
View(z)
View(dataset)
View(z)
prepare_university <- function(x, course_dataset){
# function to prepare a dataset for future use
# x = name of the question
# course_dataset = dataset that needs to be prepared
# returns a dataset:
# universities with 10 or more respondents and answers to questions by respondents
questions_uni <- c("N.", "O.", "P.", "Q.") #first letters for questions about specific universities
x <- substr(x, 3, 5) #updating x to use it in a function. x in the beginning is used to make calls to functions consistent
#creating four datasets to merge them leter. Name of the university is used as an ID.
first_university <- course_dataset %>%
select(RespondentID_,
A.2.name.of.Erasmus.Mundus.master.course.,
University.1,
starts_with(paste0(questions_uni[1], x)))
second_university <- course_dataset %>%
select(RespondentID_,
A.2.name.of.Erasmus.Mundus.master.course.,
University.1,
starts_with(paste0(questions_uni[2], x)))
third_university <- course_dataset %>%
select(RespondentID_,
A.2.name.of.Erasmus.Mundus.master.course.,
University.1,
starts_with(paste0(questions_uni[3], x)))
fourth_university <- course_dataset %>%
select(RespondentID_,
A.2.name.of.Erasmus.Mundus.master.course.,
University.1,
starts_with(paste0(questions_uni[4], x)))
#since questions are always the same, binding four datasets together
z <- rbind(first_university,
setNames(second_university, names(first_university)),
setNames(third_university, names(first_university)),
setNames(fourth_university, names(first_university)))
names(z) <- gsub("the.first", "this", names(z)) #substituting "the.first" to "this" to make it gramatically correct
z <- z[!is.na(z$University.1),] #removing empty lines
#finding out names of universities with 10 or more respondents
university_names <- z %>%
select(University.1) %>%
group_by(University.1) %>%
summarise(respondents = n()) %>%
filter(respondents >= 10)
#returning only rows with 10 or more respondents
#  z <- z[z$University.1 %in% as.character(university_names$University.1),]
return(z)
}
z <- prepare_university("N.3.2", dataset)
View(z)
z <- z[!is.na(z$N.3.2.What.recommendations.would.you.give.to.build.or.improve.student.feedback.channels.at.this.university._Open.Ended.Response),]
f <- z %>% select(A.2.name.of.Erasmus.Mundus.master.course.) %>% summarise(respondents = n()) %>% filter(respondents >=10)
View(f)
f <- z %>% select(A.2.name.of.Erasmus.Mundus.master.course.) %>% group_by(A.2.name.of.Erasmus.Mundus.master.course.) %>% summarise(respondents = n()) %>% filter(respondents >=10)
View(f)
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "pdf_document",
output_file =  "rediet.pdf",
output_dir = './Reports')
View(f)
f <- z %>%
select(A.2.name.of.Erasmus.Mundus.master.course.) %>%
group_by(A.2.name.of.Erasmus.Mundus.master.course.) %>%
summarise(respondents = n()) %>%
filter(respondents >=10)
View(f)
z <- prepare_university("N.3.2", dataset)
z <- z[!is.na(z$N.3.2.What.recommendations.would.you.give.to.build.or.improve.student.feedback.channels.at.this.university._Open.Ended.Response),]
f <- z %>%
select(A.2.name.of.Erasmus.Mundus.master.course.) %>%
group_by(A.2.name.of.Erasmus.Mundus.master.course.) %>%
summarise(respondents = n()) %>%
filter(respondents >=10)
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "pdf_document",
output_file =  "rediet.pdf",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "pdf_document",
output_file =  "rediet.pdf",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
table(respondents$A.4.Have.you.already.graduated.from.EM.course._Response)
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
rmarkdown::render('./Reports/rediet.Rmd',  # file 2
output_format = "html_document",
output_file =  "rediet.html",
output_dir = './Reports')
source("functions.R")
text_data <- read.csv("./Reports/text_data.csv", encoding = "UTF-8")
View(text_data)
text <- text_data %>% select(starts_with("X"))
View(text)
sapply(gregexpr("[[:alpha:]]+", text), function(x) sum(x > 0))
apply(X = text, MARGIN = 2, gregexpr("[[:alpha:]]+"))
apply(X = text, MARGIN = 2, function(x) gregexpr("[[:alpha:]]+", x))
apply(X = text, MARGIN = 2, function(x) gregexpr("[[:alpha:]]+", x) + 1)
apply(X = text, MARGIN = 2, function(x) gregexpr("[[:alpha:]]+", x) + 1L)
?gregexpr
?stringr
library(stringi)
stri_count(text, regex = "\\S+")
?stri_count
stri_count(text[,1], regex = "\\S+")
z <- apply(text, 2, function(x) stri_count(x, regex = "\\S+"))
z <- as.data.frame(apply(text, 2, function(x) stri_count(x, regex = "\\S+")))
View(z)
sum(rowSums(z))
sum(rowSums(z))/78
sum(rowSums(z))/ncol(text)/nrow(text)
sum(rowSums(z))/22
View(text)
View(z)
library(plyr)
library(extrafont)
#http://blog.revolutionanalytics.com/2012/09/how-to-use-your-favorite-fonts-in-r-charts.html
loadfonts()
Sys.setenv(R_GSCMD = "C:/Program Files/gs/gs9.16/bin/gswin64c.exe")
source("functions.R")
text_data <- read.csv("./Reports/text_data.csv", encoding = "UTF-8")
today_date <- as.character(format(Sys.Date(), "%d %b %Y"))
#http://reed.edu/data-at-reed/software/R/markdown_multiple_reports.html
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
x <- "N.3.3"
z <- prepare_university(x, course_dataset)
z <- prepare_university("N.1.3", course_dataset)
university_names <- sort(as.character(unique(z$University.1)))
counts <- z %>% group_by(University.1) %>% summarise_each(funs(f2))
row.names(counts) <- counts$University.1
counts$University.1 <- NULL
counts$rows <- rowSums(counts > 10)
View(counts)
i <- 3
slice <- z[z$University.1 == university_names[i], ]
View(slice)
i <- 2
slice <- z[z$University.1 == university_names[i], ]
View(slice)
n <- as.numeric(counts[rownames(counts) == university_names[i],"rows"])
View(slice)
as.numeric(counts[rownames(counts) == university_names[i],"rows"])
counts[rownames(counts) == university_names[i],"rows"]
View(counts)
source("functions.R")
text_data <- read.csv("./Reports/text_data.csv", encoding = "UTF-8")
today_date <- as.character(format(Sys.Date(), "%d %b %Y"))
#http://reed.edu/data-at-reed/software/R/markdown_multiple_reports.html
for (i in 1:1){
course_dataset <- dataset[dataset$A.2.name.of.Erasmus.Mundus.master.course. == tenormore$Course[i],]
text_dataset <- text_data[text_data$Course == as.character(tenormore$Course)[i],]
rmarkdown::render('./Reports/report_script.Rmd',  # file 2
output_format = "pdf_document",
output_file =  paste(as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''),
output_dir = './Reports/courses')
#embed_fonts(paste("report_", as.character(tenormore$Course[i]), '_', Sys.Date(), ".pdf", sep=''))
}
